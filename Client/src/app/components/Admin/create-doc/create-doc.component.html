<app-navbar></app-navbar>
<p-toast />
<body>
  <div class="container-fluid">
    <div class="row flex-nowrap">
      <div class="col-2">
        <app-side-panel></app-side-panel>
      </div>
      <div class="col py-3" style="margin-left: 230px">
        <h1 style="color: white">
          Create Doctor Account <i class="fa-solid fa-user-doctor icon"></i>
        </h1>
        <br>
        <form class="form-register" #form="ngForm" (ngSubmit)="addDoctor()">
          <div class="flex">
            <div class="half-width">
              <label>
                <input
                  class="input"
                  type="text"
                  id="FirstName"
                  name="FirstName"
                  [(ngModel)]="doctorRegistration.firstName"
                  placeholder=""
                  required=""
                />
                <span>First name *</span>
              </label>
              <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.firstName == ''" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
            </div>
            <div class="half-width">
              <label>
                <input
                  class="input"
                  type="text"
                  id="LastName"
                  name="LastName"
                  [(ngModel)]="doctorRegistration.lastName"
                  placeholder=""
                  required=""
                />
                <span>Last name *</span>
              </label>
              <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.lastName == ''" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
            </div>
          </div>
          <div class="flex">
            <div class="half-width">
              <label>
                <input
                  class="input"
                  type="date"
                  id="DateOfBirth"
                  [placeholder]="''"
                  name="DateOfBirth"
                  [(ngModel)]="doctorRegistration.dob"
                  required=""
                />
                <span>Date of Birth *</span>
              </label>
              <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.dob == null" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
            </div>
            <div class="half-width">
                <label>
                    <p-dropdown
                        [options]="specialities"
                        [(ngModel)]="doctorRegistration.specialityid"
                        placeholder="Select a Speciality"
                        [editable]="true"
                        optionLabel="description"
                        optionValue="id"
                        (onChange)="onSpecialityChange($event.value)"
                    ></p-dropdown>                    
                </label> 
                <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.specialityid == 0" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>             
            </div>
          </div>

          <div class="flex">
            <div class="half-width">
              <label>
                <input
                  class="input"
                  type="text"
                  id="MobileNo"
                  name="MobileNo"
                  [(ngModel)]="doctorRegistration.mobileNo"
                  placeholder=""
                  required=""
                />
                <span>Mobile No *</span>
              </label>
              <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.mobileNo == null" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
            </div>
            <div class="half-width">
              <label>
                <input
                  class="input"
                  type="text"
                  id="NicNo"
                  name="NicNo"
                  [(ngModel)]="doctorRegistration.nicNo"
                  placeholder=""
                  required=""
                />
                <span>NIC No</span>
              </label>
              <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.nicNo == null" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
            </div>
          </div>
          <label>
            <input
              class="input"
              type="email"
              id="Email"
              name="Email"
              [(ngModel)]="doctorRegistration.email"
              placeholder=""
              required=""
            />
            <span>Email</span>
          </label>
          <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.email == ''" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
          <label>
            <input
              class="input"
              type="text"
              id="Address"
              name="Address"
              [(ngModel)]="doctorRegistration.address"
              placeholder=""
              required=""
            />
            <span>Address</span>
          </label>
          <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.address == ''" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
          <div class="flex">
            <div class="half-width">
              <label>
                <input
                  class="input"
                  type="text"
                  id="Username"
                  name="Username"
                  [(ngModel)]="doctorRegistration.username"
                  placeholder=""
                  required=""
                />
                <span>Username *</span>
              </label>
              <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.username == ''" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
            </div>
            <div class="half-width">
              <label>
                <input
                  class="input"
                  type="password"
                  id="Password"
                  name="Password"
                  [(ngModel)]="doctorRegistration.password"
                  placeholder=""
                  required=""
                />
                <span>Password *</span>
              </label>
              <label *ngIf="this.submitBtnClicked == true && this.doctorRegistration.password == ''" style="color: red;">Field is required <i class="pi pi-info-circle"></i></label>
            </div>
          </div>

          <button class="submit">Create account</button>
        </form>
      </div>
    </div>
  </div>
</body>
